<nav class="navbar navbar-expand-sm navbar-dark bg-dark p-0">
  <div class="container-fluid">
    <ul class="navbar-nav me-auto mb-lg-0">
      <li class="nav-item">
        <a class="nav-link small text-white" href="/">ギタフレ！</a>
      </li>
    </ul>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-lg-0">
        <li class="nav-item">
          <%= link_to "フレーズ", phrases_path, class: "nav-link small text-white" %>
        </li>
        <li class="nav-item">
          <%= link_to "テーマ", themes_path, class: "nav-link small text-white" %>
        </li>
      </ul>
      <ul class="navbar-nav mr-auto mb-lg-0">
      <% if user_signed_in? %>
        <li class="nav-item">
          <%= link_to current_user.username, mypage_users_path, class: "nav-link small text-white" %>
        </li>
        <li class="nav-item">
          <%= link_to "ログアウト", destroy_user_session_path, method: :delete, data: { confirm: "ログアウトしますか？" }, class: "nav-link small text-white" %>
        </li>
      <% else %>
        <li class="nav-item">
          <%= link_to "会員登録", new_user_registration_path, class: "nav-link small text-white" %>
        </li>
        <li class="nav-item">
          <%= link_to "ログイン", new_user_session_path, class: "nav-link small text-white" %>
        </li>
      <% end %>
      </ul>
    </div>
  </div>
</nav>


<div class="container-fluid">
  <div class="row justify-content-between">
    <div class="col-4 text-nowrap">
      <h2 class="d-inline-block">ギタフレ！</h2>
      <div class="d-inline-block">
        <%= form_with url:search_path, method: :get, local: true do |f| %>
        <div class="input-group">
          <%= f.text_field 'search[value]', placeholder: "キーワード", class: "form-control input-group-prepend" %>
          <%= f.select 'search[model]', options_for_select({ "フレーズ" => "phrase", "テーマ" => "theme", "ユーザー" => "user"}), class: "form-select" %>
          <span class="input-group-btn input-group-append">
          <%= f.submit :"検索", class: "btn btn-primary" %>
          </span>
        </div>
        <% end %>
      </div>
      
    </div>
    <div class="col-4 d-flex justify-content-end">
    <% if user_signed_in? %>
      <%= link_to "フレーズ投稿", new_phrase_path, class: "btn btn-primary m-1 text-decoration-none" %>
      <%= link_to "テーマ投稿", new_theme_path, class: "btn btn-success m-1 text-decoration-none" %>
    <% end %>
    </div>
  </div>
</div>